# TODO

* TODO NOW:
  * TODO: 提供「只自动固定直接内容」选项，并默认开启
    * 直接内容 = 根内容｜悬浮的引用内容｜展开的引用内容
  * FIXME: 串首也有可能无限递归，应该检查是否在帖內而非检查是否在引用內

* TODO 0.4:
  * TODO: 配置决定：是否额外提供「🚫」按钮？页面撑长后保持长度？

* TODO 0.5:
  * TODO: 持久化缓存；配置可选数量；按「最后看到的时间」、「是直接看到还是获取引用看到」决定权重
  * TODO: 缓存图片
  * TODO: 实现提供「展开一个引用时将其他相同的引用一同展开」的配置选项
  * TODO: 暴露部分接口，让本脚本可以配合其他如「平滑翻页」之类功能的脚本正常运作
  * FIXME: 自动展开存在 Billion laughs attack 风险
  * TODO/FIXME: 支持网页移动端
  * TODO: 让指向串号的链接也可以预览
    * TODO: 甚至错打成全角符号的串号？

* TODO ?:
  * TODO: 随时有图钉按钮解除固定？
  * TODO: 要不要考虑尝试在重新加载后还原先前展开/折叠的状态？
  * TODO: 悬浮淡出
  * TODO: 折叠时点击 mask，preventDefault？
  * TODO: 自动固定防止递归要不要考虑把第一层也算上，或者在非第一层允许多固定一次？
    * 目前递归引用在第一层会固定一次（即内容会出现两次），而在第二层开始出现的引用不会固定第二次
  * TODO: 让页面中原本的回应（根回应）也可以折叠？
    * TODO: 根回应折叠时的 emoji？
  * TODO: 是不是把 `state` 改成 `refViewStatus`/`refLinkStatus` 比较好？
  * TODO: BEM？

* TODO ??:
  * TODO?: 优化引用内容的空白？
